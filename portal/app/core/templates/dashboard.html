{% extends "base.html" %}

{% load static %}
{% block partial_styles %}
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
    {% block dashboard-styles %}{% endblock dashboard-styles %}
{% endblock partial_styles %}
{% block main-content %}
<div class="main-panel">
    <div class="content-wrapper match-height">
        <div id="resources" class="container-fluid">
            <div class="row">
                <div class="col-md-10 grid-margin">
                    <div class="card card-body row page-header">
                        <ul class="nav">
                            <li class="nav-item">
                                <a class="nav-link" href="/">
                                    <h4>Resources</h4>
                                    <h4>Information</h4>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link icons w3-bar-item w3-button {% if resource == 'loads' %}current{% endif %}" href="/loads">
                                    <img src="https://cdn3.iconfinder.com/data/icons/devices-and-communication-2/100/electricity_plug_female_american-512.png" height="30">
                                        Loads
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link icons w3-bar-item w3-button {% if resource == 'hvac' %}current{% endif %}" href="/hvac">
                                    <img src="https://cdn1.iconfinder.com/data/icons/universal-mobile-line-icons-vol-7/48/310-512.png" height="30">
                                        HVAC
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link icons w3-bar-item w3-button {% if resource == 'ev' %}current{% endif %}" href="/ev">
                                    <img src="https://static.thenounproject.com/png/725-200.png" height="30">
                                        EV
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link icons w3-bar-item w3-button {% if resource == 'solar' %}current{% endif %}" href="/solar">
                                    <img src="https://cdn2.iconfinder.com/data/icons/energy-and-resources/80/14_energy_solar_pannel-512.png" height="30">
                                        Solar
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link icons w3-bar-item w3-button {% if resource == 'battery' %}current{% endif %}" href="/battery">
                                    <img src="https://s3.amazonaws.com/iconbros/icons/icon_pngs/000/002/243/original/battery.png?1561490161" height="30">
                                        Battery
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-2 d-none d-md-block ml-md-auto">
                    <div class="card card-body text-center">
                        <h4>
                          <div id="temp">- -</div>
                        </h4>
                        <div id="icon"></div>
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="col-md-9">
                    {% block dashboard-resources %}{% endblock dashboard-resources %}
                </div>
                <div class="col-md-3">
                    <div class="card card-body">
                        <div class="wrapper border-bottom mb-2 pb-2">
                            <p class="mb-0">Events Participated:</p>
                            <div class="d-flex align-items-center">
                                <h4 class="font-weight-semibold mb-0"> 2 / 8</h4>
                                <div class="dot-indicator bg-secondary ml-auto"></div>
                            </div>
                        </div>
                        <div class="wrapper border-bottom mb-2 pb-2">
                            <p class="mb-0">Tokens Collected:</p>
                            <div class="d-flex align-items-center">
                                <h4 class="font-weight-semibold mb-0">45</h4>
                                <div class="dot-indicator bg-secondary ml-auto"></div>
                            </div>
                        </div>
                        <div class="wrapper border-bottom mb-2 pb-2">
                            <p class="mb-0">Participation:</p>
                            <div class="d-flex align-items-center">
                                <h4 class="font-weight-semibold mb-0">HIGH</h4>
                                <div class="dot-indicator bg-secondary ml-auto"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock main-content %}

{% block page-scripts %}
    <script type="text/javascript">
        let token = '{{ token }}';
        // let homeList = '{{ homes | safe }}';
        // let deviceList = '{{ devices | safe }}';

        window.localStorage.setItem('token', token);
        // window.localStorage.setItem('homes', JSON.stringify(homeList));
        // window.localStorage.setItem('devices', JSON.stringify(deviceList));
    </script>
    <script src="{% static 'js/dashboard.js' %}"></script>
    <script src="{% static 'js/weather.js' %}"></script>
    {% block dashboard-scripts %}{% endblock dashboard-scripts %}
{% endblock page-scripts %}
